<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:Nova.Presentation.ViewModels.Effects"
             x:Class="Nova.Presentation.Views.Effects.EqGateBlockView"
             x:DataType="vm:EqGateBlockViewModel">

  <Border Background="{StaticResource BackgroundPrimary}"
          Padding="{StaticResource SpacingMedium}"
          CornerRadius="{StaticResource BorderRadiusMedium}">
    <StackPanel Spacing="8">
      <StackPanel Orientation="Horizontal" Spacing="8">
        <Ellipse Width="12" Height="12"
                 Fill="{Binding IsEnabled, Converter={StaticResource BoolToGreenGrayBrushConverter}}"
                 VerticalAlignment="Center" />
        <TextBlock Text="EQ / Gate"
                   FontWeight="{StaticResource FontWeightBold}"
                   Foreground="{StaticResource TextPrimary}"/>
      </StackPanel>

      <Grid ColumnDefinitions="160,*" RowDefinitions="Auto,Auto,Auto">
        <TextBlock Grid.Row="0" Grid.Column="0" Text="Gate Type:" Foreground="{StaticResource TextSecondary}"/>
        <TextBlock Grid.Row="0" Grid.Column="1" Text="{Binding Type}" Foreground="{StaticResource TextPrimary}"/>

        <TextBlock Grid.Row="1" Grid.Column="0" Text="Gate Enabled:" Foreground="{StaticResource TextSecondary}"/>
        <CheckBox Grid.Row="1" Grid.Column="1" IsChecked="{Binding GateEnabled}" Content="Enabled" />

        <TextBlock Grid.Row="2" Grid.Column="0" Text="EQ Enabled:" Foreground="{StaticResource TextSecondary}"/>
        <CheckBox Grid.Row="2" Grid.Column="1" IsChecked="{Binding EqEnabled}" Content="Enabled" />
      </Grid>

      <TextBlock Text="Gate" FontWeight="{StaticResource FontWeightSemiBold}" Foreground="{StaticResource TextPrimary}"/>
      <Grid ColumnDefinitions="160,*" RowDefinitions="Auto,Auto,Auto">
        <TextBlock Grid.Row="0" Grid.Column="0" Text="Threshold:" Foreground="{StaticResource TextSecondary}"/>
        <StackPanel Grid.Row="0" Grid.Column="1" Orientation="Horizontal" Spacing="4">
          <NumericUpDown Value="{Binding GateThreshold}" Minimum="-60" Maximum="0" Increment="1" FormatString="N0" MinWidth="80" />
          <TextBlock Text="dB" VerticalAlignment="Center" Foreground="{StaticResource TextTertiary}" />
        </StackPanel>

        <TextBlock Grid.Row="1" Grid.Column="0" Text="Damp:" Foreground="{StaticResource TextSecondary}"/>
        <StackPanel Grid.Row="1" Grid.Column="1" Orientation="Horizontal" Spacing="4">
          <NumericUpDown Value="{Binding GateDamp}" Minimum="0" Maximum="90" Increment="1" FormatString="N0" MinWidth="80"
                         ToolTip.Tip="Gate attenuation when closed (dB)" />
          <TextBlock Text="dB" VerticalAlignment="Center" Foreground="{StaticResource TextTertiary}" />
        </StackPanel>

        <TextBlock Grid.Row="2" Grid.Column="0" Text="Release:" Foreground="{StaticResource TextSecondary}"/>
        <StackPanel Grid.Row="2" Grid.Column="1" Orientation="Horizontal" Spacing="4">
          <NumericUpDown Value="{Binding GateRelease}" Minimum="0" Maximum="200" Increment="1" FormatString="N0" MinWidth="80"
                         ToolTip.Tip="Gate release rate (dB/s)" />
          <TextBlock Text="dB/s" VerticalAlignment="Center" Foreground="{StaticResource TextTertiary}" />
        </StackPanel>
      </Grid>

      <TextBlock Text="EQ" FontWeight="{StaticResource FontWeightSemiBold}" Foreground="{StaticResource TextPrimary}"/>
      <Grid ColumnDefinitions="160,*" RowDefinitions="Auto,Auto,Auto,Auto,Auto,Auto,Auto,Auto,Auto">
        <TextBlock Grid.Row="0" Grid.Column="0" Text="Band 1 Freq:" Foreground="{StaticResource TextSecondary}"/>
        <NumericUpDown Grid.Row="0" Grid.Column="1" Value="{Binding EqBand1Freq}" Minimum="25" Maximum="210" Increment="1" FormatString="N0" MinWidth="80" />

        <TextBlock Grid.Row="1" Grid.Column="0" Text="Band 1 Gain:" Foreground="{StaticResource TextSecondary}"/>
        <StackPanel Grid.Row="1" Grid.Column="1" Orientation="Horizontal" Spacing="4">
          <NumericUpDown Value="{Binding EqBand1Gain}" Minimum="-12" Maximum="12" Increment="1" FormatString="N0" MinWidth="80" />
          <TextBlock Text="dB" VerticalAlignment="Center" Foreground="{StaticResource TextTertiary}" />
        </StackPanel>

        <TextBlock Grid.Row="2" Grid.Column="0" Text="Band 1 Width:" Foreground="{StaticResource TextSecondary}"/>
        <NumericUpDown Grid.Row="2" Grid.Column="1" Value="{Binding EqBand1Width}" Minimum="5" Maximum="12" Increment="1" FormatString="N0" MinWidth="80" />

        <TextBlock Grid.Row="3" Grid.Column="0" Text="Band 2 Freq:" Foreground="{StaticResource TextSecondary}"/>
        <NumericUpDown Grid.Row="3" Grid.Column="1" Value="{Binding EqBand2Freq}" Minimum="25" Maximum="210" Increment="1" FormatString="N0" MinWidth="80" />

        <TextBlock Grid.Row="4" Grid.Column="0" Text="Band 2 Gain:" Foreground="{StaticResource TextSecondary}"/>
        <StackPanel Grid.Row="4" Grid.Column="1" Orientation="Horizontal" Spacing="4">
          <NumericUpDown Value="{Binding EqBand2Gain}" Minimum="-12" Maximum="12" Increment="1" FormatString="N0" MinWidth="80" />
          <TextBlock Text="dB" VerticalAlignment="Center" Foreground="{StaticResource TextTertiary}" />
        </StackPanel>

        <TextBlock Grid.Row="5" Grid.Column="0" Text="Band 2 Width:" Foreground="{StaticResource TextSecondary}"/>
        <NumericUpDown Grid.Row="5" Grid.Column="1" Value="{Binding EqBand2Width}" Minimum="5" Maximum="12" Increment="1" FormatString="N0" MinWidth="80" />

        <TextBlock Grid.Row="6" Grid.Column="0" Text="Band 3 Freq:" Foreground="{StaticResource TextSecondary}"/>
        <NumericUpDown Grid.Row="6" Grid.Column="1" Value="{Binding EqBand3Freq}" Minimum="25" Maximum="210" Increment="1" FormatString="N0" MinWidth="80" />

        <TextBlock Grid.Row="7" Grid.Column="0" Text="Band 3 Gain:" Foreground="{StaticResource TextSecondary}"/>
        <StackPanel Grid.Row="7" Grid.Column="1" Orientation="Horizontal" Spacing="4">
          <NumericUpDown Value="{Binding EqBand3Gain}" Minimum="-12" Maximum="12" Increment="1" FormatString="N0" MinWidth="80" />
          <TextBlock Text="dB" VerticalAlignment="Center" Foreground="{StaticResource TextTertiary}" />
        </StackPanel>

        <TextBlock Grid.Row="8" Grid.Column="0" Text="Band 3 Width:" Foreground="{StaticResource TextSecondary}"/>
        <NumericUpDown Grid.Row="8" Grid.Column="1" Value="{Binding EqBand3Width}" Minimum="5" Maximum="12" Increment="1" FormatString="N0" MinWidth="80" />
      </Grid>
    </StackPanel>
  </Border>
</UserControl>
