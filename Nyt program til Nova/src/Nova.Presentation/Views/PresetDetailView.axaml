<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:Nova.Presentation.ViewModels"
             xmlns:controls="using:Nova.Presentation.Views.Controls"
             x:Class="Nova.Presentation.Views.PresetDetailView"
             x:DataType="vm:PresetDetailViewModel">

    <Border Background="#2D2D2D" Padding="16" CornerRadius="8">
        <ScrollViewer VerticalScrollBarVisibility="Auto">
            <StackPanel Spacing="16">
                <!-- Header Section -->
                <StackPanel Spacing="8">
                    <TextBlock Text="Preset Details" 
                               FontWeight="Bold" 
                               FontSize="16"
                               Foreground="#FFFFFF"/>
                    
                    <StackPanel Spacing="4" IsVisible="{Binding PresetName, Converter={x:Static StringConverters.IsNotNullOrEmpty}}">
                        <TextBlock FontSize="20" FontWeight="Bold" Foreground="#FFFFFF">
                            <Run Text="{Binding Position}"/> - <Run Text="{Binding PresetName}"/>
                        </TextBlock>
                    </StackPanel>
                    
                    <TextBlock Text="Select a preset from the list to view details"
                               IsVisible="{Binding PresetName, Converter={x:Static StringConverters.IsNullOrEmpty}}"
                               Foreground="#999999"
                               FontStyle="Italic"
                               Margin="0,8"/>
                </StackPanel>

                <!-- Drive Section -->
                <Border Background="#1E1E1E" 
                        Padding="12" 
                        CornerRadius="4"
                        IsVisible="{Binding PresetName, Converter={x:Static StringConverters.IsNotNullOrEmpty}}">
                    <controls:EffectBlockView 
                        Header="Drive"
                        DataContext="{Binding Drive}"
                        IsEnabledIndicator="{Binding IsEnabled}">
                        <controls:EffectBlockView.ParametersContent>
                            <Grid ColumnDefinitions="150,*" RowDefinitions="Auto,Auto,Auto">
                                <TextBlock Grid.Row="0" Grid.Column="0" Text="Type:" Foreground="#AAAAAA"/>
                                <TextBlock Grid.Row="0" Grid.Column="1" Text="{Binding Type}" Foreground="#FFFFFF"/>
                                
                                <TextBlock Grid.Row="1" Grid.Column="0" Text="Gain:" Foreground="#AAAAAA"/>
                                <TextBlock Grid.Row="1" Grid.Column="1" Text="{Binding Gain}" Foreground="#FFFFFF"/>
                                
                                <TextBlock Grid.Row="2" Grid.Column="0" Text="Level:" Foreground="#AAAAAA"/>
                                <TextBlock Grid.Row="2" Grid.Column="1" Text="{Binding Level}" Foreground="#FFFFFF"/>
                            </Grid>
                        </controls:EffectBlockView.ParametersContent>
                    </controls:EffectBlockView>
                </Border>

                <!-- Compressor Section -->
                <Border Background="#1E1E1E" 
                        Padding="12" 
                        CornerRadius="4"
                        IsVisible="{Binding PresetName, Converter={x:Static StringConverters.IsNotNullOrEmpty}}">
                    <controls:EffectBlockView 
                        Header="Compressor"
                        DataContext="{Binding Compressor}"
                        IsEnabledIndicator="{Binding IsEnabled}">
                        <controls:EffectBlockView.ParametersContent>
                            <Grid ColumnDefinitions="150,*" RowDefinitions="Auto,Auto,Auto,Auto">
                                <TextBlock Grid.Row="0" Grid.Column="0" Text="Type:" Foreground="#AAAAAA"/>
                                <TextBlock Grid.Row="0" Grid.Column="1" Text="{Binding Type}" Foreground="#FFFFFF"/>
                                
                                <TextBlock Grid.Row="1" Grid.Column="0" Text="Drive:" Foreground="#AAAAAA"/>
                                <TextBlock Grid.Row="1" Grid.Column="1" Text="{Binding Drive}" Foreground="#FFFFFF"/>
                                
                                <TextBlock Grid.Row="2" Grid.Column="0" Text="Response:" Foreground="#AAAAAA"/>
                                <TextBlock Grid.Row="2" Grid.Column="1" Text="{Binding Response}" Foreground="#FFFFFF"/>
                                
                                <TextBlock Grid.Row="3" Grid.Column="0" Text="Level:" Foreground="#AAAAAA"/>
                                <TextBlock Grid.Row="3" Grid.Column="1" Text="{Binding Level}" Foreground="#FFFFFF"/>
                            </Grid>
                        </controls:EffectBlockView.ParametersContent>
                    </controls:EffectBlockView>
                </Border>

                <!-- EQ & Gate Section -->
                <Border Background="#1E1E1E" 
                        Padding="12" 
                        CornerRadius="4"
                        IsVisible="{Binding PresetName, Converter={x:Static StringConverters.IsNotNullOrEmpty}}">
                    <controls:EffectBlockView 
                        Header="EQ &amp; Gate"
                        DataContext="{Binding EqGate}"
                        IsEnabledIndicator="{Binding GateEnabled}">
                        <controls:EffectBlockView.ParametersContent>
                            <Grid ColumnDefinitions="150,*" RowDefinitions="Auto,Auto,Auto,Auto,Auto,Auto,Auto,Auto">
                                <TextBlock Grid.Row="0" Grid.Column="0" Text="EQ Band 1 Freq:" Foreground="#AAAAAA"/>
                                <TextBlock Grid.Row="0" Grid.Column="1" Text="{Binding EqBand1Freq, StringFormat='{}{0} Hz'}" Foreground="#FFFFFF"/>
                                
                                <TextBlock Grid.Row="1" Grid.Column="0" Text="EQ Band 1 Gain:" Foreground="#AAAAAA"/>
                                <TextBlock Grid.Row="1" Grid.Column="1" Text="{Binding EqBand1Gain, StringFormat='{}{0} dB'}" Foreground="#FFFFFF"/>
                                
                                <TextBlock Grid.Row="2" Grid.Column="0" Text="EQ Band 2 Freq:" Foreground="#AAAAAA"/>
                                <TextBlock Grid.Row="2" Grid.Column="1" Text="{Binding EqBand2Freq, StringFormat='{}{0} Hz'}" Foreground="#FFFFFF"/>
                                
                                <TextBlock Grid.Row="3" Grid.Column="0" Text="EQ Band 2 Gain:" Foreground="#AAAAAA"/>
                                <TextBlock Grid.Row="3" Grid.Column="1" Text="{Binding EqBand2Gain, StringFormat='{}{0} dB'}" Foreground="#FFFFFF"/>
                                
                                <TextBlock Grid.Row="4" Grid.Column="0" Text="EQ Band 3 Freq:" Foreground="#AAAAAA"/>
                                <TextBlock Grid.Row="4" Grid.Column="1" Text="{Binding EqBand3Freq, StringFormat='{}{0} Hz'}" Foreground="#FFFFFF"/>
                                
                                <TextBlock Grid.Row="5" Grid.Column="0" Text="EQ Band 3 Gain:" Foreground="#AAAAAA"/>
                                <TextBlock Grid.Row="5" Grid.Column="1" Text="{Binding EqBand3Gain, StringFormat='{}{0} dB'}" Foreground="#FFFFFF"/>
                                
                                <TextBlock Grid.Row="6" Grid.Column="0" Text="Gate Threshold:" Foreground="#AAAAAA"/>
                                <TextBlock Grid.Row="6" Grid.Column="1" Text="{Binding GateThreshold, StringFormat='{}{0} dB'}" Foreground="#FFFFFF"/>
                                
                                <TextBlock Grid.Row="7" Grid.Column="0" Text="Gate Enabled:" Foreground="#AAAAAA"/>
                                <TextBlock Grid.Row="7" Grid.Column="1" Text="{Binding GateEnabled}" Foreground="#FFFFFF"/>
                            </Grid>
                        </controls:EffectBlockView.ParametersContent>
                    </controls:EffectBlockView>
                </Border>

                <!-- Modulation Section -->
                <Border Background="#1E1E1E" 
                        Padding="12" 
                        CornerRadius="4"
                        IsVisible="{Binding PresetName, Converter={x:Static StringConverters.IsNotNullOrEmpty}}">
                    <controls:EffectBlockView 
                        Header="Modulation"
                        DataContext="{Binding Modulation}"
                        IsEnabledIndicator="{Binding IsEnabled}">
                        <controls:EffectBlockView.ParametersContent>
                            <Grid ColumnDefinitions="150,*" RowDefinitions="Auto,Auto,Auto,Auto">
                                <TextBlock Grid.Row="0" Grid.Column="0" Text="Type:" Foreground="#AAAAAA"/>
                                <TextBlock Grid.Row="0" Grid.Column="1" Text="{Binding Type}" Foreground="#FFFFFF"/>
                                
                                <TextBlock Grid.Row="1" Grid.Column="0" Text="Speed:" Foreground="#AAAAAA"/>
                                <TextBlock Grid.Row="1" Grid.Column="1" Text="{Binding Speed}" Foreground="#FFFFFF"/>
                                
                                <TextBlock Grid.Row="2" Grid.Column="0" Text="Depth:" Foreground="#AAAAAA"/>
                                <TextBlock Grid.Row="2" Grid.Column="1" Text="{Binding Depth}" Foreground="#FFFFFF"/>
                                
                                <TextBlock Grid.Row="3" Grid.Column="0" Text="Mix:" Foreground="#AAAAAA"/>
                                <TextBlock Grid.Row="3" Grid.Column="1" Text="{Binding Mix}" Foreground="#FFFFFF"/>
                            </Grid>
                        </controls:EffectBlockView.ParametersContent>
                    </controls:EffectBlockView>
                </Border>

                <!-- Pitch Section -->
                <Border Background="#1E1E1E" 
                        Padding="12" 
                        CornerRadius="4"
                        IsVisible="{Binding PresetName, Converter={x:Static StringConverters.IsNotNullOrEmpty}}">
                    <controls:EffectBlockView 
                        Header="Pitch"
                        DataContext="{Binding Pitch}"
                        IsEnabledIndicator="{Binding IsEnabled}">
                        <controls:EffectBlockView.ParametersContent>
                            <Grid ColumnDefinitions="150,*" RowDefinitions="Auto">
                                <TextBlock Grid.Row="0" Grid.Column="0" Text="Type:" Foreground="#AAAAAA"/>
                                <TextBlock Grid.Row="0" Grid.Column="1" Text="{Binding Type}" Foreground="#FFFFFF"/>
                            </Grid>
                        </controls:EffectBlockView.ParametersContent>
                    </controls:EffectBlockView>
                </Border>

                <!-- Delay Section -->
                <Border Background="#1E1E1E" 
                        Padding="12" 
                        CornerRadius="4"
                        IsVisible="{Binding PresetName, Converter={x:Static StringConverters.IsNotNullOrEmpty}}">
                    <controls:EffectBlockView 
                        Header="Delay"
                        DataContext="{Binding Delay}"
                        IsEnabledIndicator="{Binding IsEnabled}">
                        <controls:EffectBlockView.ParametersContent>
                            <Grid ColumnDefinitions="150,*" RowDefinitions="Auto,Auto,Auto,Auto">
                                <TextBlock Grid.Row="0" Grid.Column="0" Text="Type:" Foreground="#AAAAAA"/>
                                <TextBlock Grid.Row="0" Grid.Column="1" Text="{Binding Type}" Foreground="#FFFFFF"/>
                                
                                <TextBlock Grid.Row="1" Grid.Column="0" Text="Time:" Foreground="#AAAAAA"/>
                                <TextBlock Grid.Row="1" Grid.Column="1" Text="{Binding Time, StringFormat='{}{0} ms'}" Foreground="#FFFFFF"/>
                                
                                <TextBlock Grid.Row="2" Grid.Column="0" Text="Feedback:" Foreground="#AAAAAA"/>
                                <TextBlock Grid.Row="2" Grid.Column="1" Text="{Binding Feedback}" Foreground="#FFFFFF"/>
                                
                                <TextBlock Grid.Row="3" Grid.Column="0" Text="Mix:" Foreground="#AAAAAA"/>
                                <TextBlock Grid.Row="3" Grid.Column="1" Text="{Binding Mix}" Foreground="#FFFFFF"/>
                            </Grid>
                        </controls:EffectBlockView.ParametersContent>
                    </controls:EffectBlockView>
                </Border>

                <!-- Reverb Section -->
                <Border Background="#1E1E1E" 
                        Padding="12" 
                        CornerRadius="4"
                        IsVisible="{Binding PresetName, Converter={x:Static StringConverters.IsNotNullOrEmpty}}">
                    <controls:EffectBlockView 
                        Header="Reverb"
                        DataContext="{Binding Reverb}"
                        IsEnabledIndicator="{Binding IsEnabled}">
                        <controls:EffectBlockView.ParametersContent>
                            <Grid ColumnDefinitions="150,*" RowDefinitions="Auto,Auto,Auto,Auto">
                                <TextBlock Grid.Row="0" Grid.Column="0" Text="Type:" Foreground="#AAAAAA"/>
                                <TextBlock Grid.Row="0" Grid.Column="1" Text="{Binding Type}" Foreground="#FFFFFF"/>
                                
                                <TextBlock Grid.Row="1" Grid.Column="0" Text="Decay:" Foreground="#AAAAAA"/>
                                <TextBlock Grid.Row="1" Grid.Column="1" Text="{Binding Decay}" Foreground="#FFFFFF"/>
                                
                                <TextBlock Grid.Row="2" Grid.Column="0" Text="Pre-Delay:" Foreground="#AAAAAA"/>
                                <TextBlock Grid.Row="2" Grid.Column="1" Text="{Binding PreDelay, StringFormat='{}{0} ms'}" Foreground="#FFFFFF"/>
                                
                                <TextBlock Grid.Row="3" Grid.Column="0" Text="Level:" Foreground="#AAAAAA"/>
                                <TextBlock Grid.Row="3" Grid.Column="1" Text="{Binding Level}" Foreground="#FFFFFF"/>
                            </Grid>
                        </controls:EffectBlockView.ParametersContent>
                    </controls:EffectBlockView>
                </Border>
            </StackPanel>
        </ScrollViewer>
    </Border>
</UserControl>
